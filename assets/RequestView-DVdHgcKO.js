import{_ as te}from"./AppLayout.vue_vue_type_script_setup_true_lang-vCK_QW0o.js";import{d as $,f as k,g as A,h as r,o as l,a as e,i as v,n as m,b as P,t as u,j as q,k as z,l as _,v as F,m as D,p as w,q as oe,u as se,s as ae,x as n,e as R,F as M,y as j,z as L,c as le,w as re}from"./index-DumrJyPT.js";import{u as ie}from"./signatureRequest-BiqaCAW-.js";import{u as ne}from"./terms-Cjq4FOXv.js";const de={class:"file-upload"},ue=["accept"],ce={key:0,class:"space-y-2"},me={class:"text-xs text-gray-500"},pe={key:1,class:"space-y-2"},ve={class:"text-sm font-medium text-gray-900"},fe={class:"text-xs text-gray-500"},ge={key:0,class:"mt-2 text-sm text-red-600"},I=$({__name:"FileUpload",props:{modelValue:{},accept:{default:"*/*"},maxSize:{default:10}},emits:["update:modelValue"],setup(f,{emit:h}){const C=f,T=h,p=k(),i=k(C.modelValue),c=k(""),s=A(()=>{const b=C.accept.split(",").map(E=>E.trim());return b.includes("image/*")?"Imágenes":b.includes("video/*")?"Videos":b.includes("application/pdf")?"PDFs":"Archivos"}),g=()=>{var b;(b=p.value)==null||b.click()},x=b=>{var V;const y=(V=b.target.files)==null?void 0:V[0];if(y){if(!o(y)){c.value=`Tipo de archivo no válido. Permitidos: ${C.accept}`;return}if(y.size>C.maxSize*1024*1024){c.value=`El archivo es demasiado grande. Máximo: ${C.maxSize}MB`;return}c.value="",i.value=y,T("update:modelValue",y)}},S=()=>{i.value=null,c.value="",T("update:modelValue",null),p.value&&(p.value.value="")},o=b=>C.accept.split(",").map(y=>y.trim()).some(y=>y==="*/*"?!0:y.endsWith("/*")?b.type.startsWith(y.slice(0,-1)):b.type===y),N=b=>{if(b===0)return"0 Bytes";const E=1024,y=["Bytes","KB","MB","GB"],V=Math.floor(Math.log(b)/Math.log(E));return parseFloat((b/Math.pow(E,V)).toFixed(2))+" "+y[V]};return(b,E)=>(l(),r("div",de,[e("div",{class:m(["border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors cursor-pointer",{"border-blue-500 bg-blue-50":i.value,"border-red-500":c.value}]),onClick:g},[e("input",{ref_key:"fileInput",ref:p,type:"file",accept:f.accept,onChange:x,class:"hidden"},null,40,ue),i.value?(l(),r("div",pe,[E[2]||(E[2]=e("svg",{class:"mx-auto h-12 w-12 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 48 48"},[e("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),e("div",ve,u(i.value.name),1),e("div",fe,u(N(i.value.size)),1),e("button",{type:"button",onClick:q(S,["stop"]),class:"text-red-600 hover:text-red-800 text-xs font-medium"}," Eliminar archivo ")])):(l(),r("div",ce,[E[0]||(E[0]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},[e("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),E[1]||(E[1]=e("div",{class:"text-sm text-gray-600"},[e("span",{class:"font-medium text-blue-600 hover:text-blue-500"},"Haz clic para subir"),P(" o arrastra y suelta ")],-1)),e("p",me,u(s.value)+" (máximo "+u(f.maxSize)+"MB) ",1)]))],2),c.value?(l(),r("p",ge,u(c.value),1)):v("",!0)]))}}),be={class:"phone-input"},ye={class:"form-label"},xe={class:"flex space-x-2"},he={class:"flex-shrink-0"},Ce={class:"flex-1"},Ee=["placeholder","maxlength"],_e={key:0,class:"form-error"},ke={key:1,class:"form-error"},Ne={class:"text-xs text-gray-500 mt-1"},Te=$({__name:"PhoneInput",props:{modelValue:{},label:{default:"Número de Teléfono"},placeholder:{default:"912345678"},error:{},required:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(f,{emit:h}){const C=f,T=h,p=k("+593"),i=k(""),c=A(()=>p.value+i.value),s=A(()=>{if(!i.value)return!1;switch(p.value){case"+593":return/^9\d{8}$/.test(i.value);case"+1":return/^\d{10}$/.test(i.value);case"+52":return/^\d{10}$/.test(i.value);case"+57":return/^\d{10}$/.test(i.value);case"+51":return/^\d{9}$/.test(i.value);case"+56":return/^\d{9}$/.test(i.value);case"+54":return/^\d{10}$/.test(i.value);case"+55":return/^\d{11}$/.test(i.value);default:return i.value.length>=8}}),g=A(()=>{switch(p.value){case"+593":return 9;case"+1":return 10;case"+52":return 10;case"+57":return 10;case"+51":return 9;case"+56":return 9;case"+54":return 10;case"+55":return 11;default:return 15}}),x=()=>{switch(p.value){case"+593":return"Número inválido: debe empezar con 9 y tener 9 dígitos";case"+1":return"Número inválido: debe tener 10 dígitos";case"+52":return"Número inválido: debe tener 10 dígitos";case"+57":return"Número inválido: debe tener 10 dígitos";case"+51":return"Número inválido: debe tener 9 dígitos";case"+56":return"Número inválido: debe tener 9 dígitos";case"+54":return"Número inválido: debe tener 10 dígitos";case"+55":return"Número inválido: debe tener 11 dígitos";default:return"Número inválido"}},S=()=>{switch(p.value){case"+593":return"Formato: 9 + 8 dígitos (ej: 912345678)";case"+1":return"Formato: 10 dígitos (ej: 1234567890)";case"+52":return"Formato: 10 dígitos (ej: 1234567890)";case"+57":return"Formato: 10 dígitos (ej: 1234567890)";case"+51":return"Formato: 9 dígitos (ej: 123456789)";case"+56":return"Formato: 9 dígitos (ej: 123456789)";case"+54":return"Formato: 10 dígitos (ej: 1234567890)";case"+55":return"Formato: 11 dígitos (ej: 12345678901)";default:return"Ingresa el número de teléfono"}};return z(c,o=>{T("update:modelValue",o)}),z(()=>C.modelValue,o=>{o&&(o.startsWith("+593")?(p.value="+593",i.value=o.substring(4)):o.startsWith("+1")?(p.value="+1",i.value=o.substring(2)):o.startsWith("+52")?(p.value="+52",i.value=o.substring(3)):o.startsWith("+57")?(p.value="+57",i.value=o.substring(3)):o.startsWith("+51")?(p.value="+51",i.value=o.substring(3)):o.startsWith("+56")?(p.value="+56",i.value=o.substring(3)):o.startsWith("+54")?(p.value="+54",i.value=o.substring(3)):o.startsWith("+55")?(p.value="+55",i.value=o.substring(3)):(p.value="+593",i.value=o.replace(/^\+593/,"")))},{immediate:!0}),(o,N)=>(l(),r("div",be,[e("label",ye,u(f.label),1),e("div",xe,[e("div",he,[_(e("select",{"onUpdate:modelValue":N[0]||(N[0]=b=>p.value=b),class:m(["form-input w-24",{"border-red-500":f.error}])},[...N[2]||(N[2]=[D('<option value="+593">🇪🇨 +593</option><option value="+1">🇺🇸 +1</option><option value="+52">🇲🇽 +52</option><option value="+57">🇨🇴 +57</option><option value="+51">🇵🇪 +51</option><option value="+56">🇨🇱 +56</option><option value="+54">🇦🇷 +54</option><option value="+55">🇧🇷 +55</option>',8)])],2),[[F,p.value]])]),e("div",Ce,[_(e("input",{"onUpdate:modelValue":N[1]||(N[1]=b=>i.value=b),type:"tel",class:m(["form-input",{"border-red-500":f.error||i.value&&!s.value,"border-green-500":i.value&&s.value}]),placeholder:f.placeholder,maxlength:g.value,required:""},null,10,Ee),[[w,i.value]])])]),f.error?(l(),r("p",_e,u(f.error),1)):v("",!0),i.value&&!s.value&&!f.error?(l(),r("p",ke,u(x()),1)):v("",!0),e("p",Ne,u(S()),1)]))}}),Ae=oe("catalogs",()=>{const f=k({provinces:[],cities:[],periods:[],applicationTypes:[]}),h=k(!1),C=k(null),T=async()=>{h.value=!0,C.value=null;try{const c=await fetch("undefined/api/catalogs");if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const s=await c.json();if(!s.success||!s.data)throw new Error(s.error||"Failed to fetch catalogs");return f.value=s.data,s.data}catch(c){return f.value=p(),C.value=c instanceof Error?c.message:"Unknown error occurred",f.value}finally{h.value=!1}},p=()=>({provinces:[{id:"1",name:"Pichincha",code:"PIC"},{id:"2",name:"Guayas",code:"GUA"},{id:"3",name:"Azuay",code:"AZU"},{id:"4",name:"Manabí",code:"MAN"},{id:"5",name:"El Oro",code:"ORO"},{id:"6",name:"Los Ríos",code:"LOS"},{id:"7",name:"Chimborazo",code:"CHI"},{id:"8",name:"Tungurahua",code:"TUN"},{id:"9",name:"Imbabura",code:"IMB"},{id:"10",name:"Loja",code:"LOJ"}],cities:[{id:"1",name:"Quito",code:"UIO",provinceId:"1"},{id:"2",name:"Guayaquil",code:"GYE",provinceId:"2"},{id:"3",name:"Cuenca",code:"CUE",provinceId:"3"},{id:"4",name:"Manta",code:"MAN",provinceId:"4"},{id:"5",name:"Machala",code:"MAC",provinceId:"5"},{id:"6",name:"Babahoyo",code:"BAB",provinceId:"6"},{id:"7",name:"Riobamba",code:"RIB",provinceId:"7"},{id:"8",name:"Ambato",code:"AMB",provinceId:"8"},{id:"9",name:"Ibarra",code:"IBA",provinceId:"9"},{id:"10",name:"Loja",code:"LOJ",provinceId:"10"}],periods:["ONE_WEEK","ONE_MONTH","ONE_YEAR","TWO_YEARS","THREE_YEARS","FOUR_YEARS","FIVE_YEARS"],applicationTypes:["NATURAL_PERSON","LEGAL_REPRESENTATIVE"]});return{catalogs:f,isLoading:h,error:C,fetchCatalogs:T,clearError:()=>{C.value=null}}});function Se(){const f=k({}),h=(i,c,s)=>{for(const g of s){const x=g(c);if(x)return f.value[i]=x,!1}return delete f.value[i],!0};return{errors:f,validateField:h,validateForm:i=>{let c=!0;for(const[s,{value:g,rules:x}]of Object.entries(i))h(s,g,x)||(c=!1);return c},clearErrors:()=>{f.value={}},clearFieldError:i=>{delete f.value[i]}}}const Ve={key:0,class:"space-y-6"},we={class:"text-center mb-8"},Re={class:"flex gap-2 justify-center"},Fe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ie={key:0,class:"form-error"},$e={key:1,class:"form-error"},Ue={key:0,class:"form-error"},Pe={key:1,class:"form-error"},ze={class:"text-xs text-gray-500 mt-1"},Me={key:0,class:"form-error"},je=["value"],Be={key:0,class:"form-error"},Oe=["disabled"],Le=["value"],qe={key:0,class:"form-error"},De={class:"md:col-span-2"},He={key:0,class:"form-error"},We={class:"text-xs text-gray-500 mt-1"},Ye={key:0,class:"form-error"},Ge={key:0,class:"form-error"},Ke={key:0,class:"space-y-6 border-t pt-6"},Je={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Qe={key:0,class:"form-error"},Ze={key:0,class:"form-error"},Xe={key:1,class:"space-y-6"},et={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},tt={key:0,class:"form-error"},ot={key:0,class:"form-error"},st={key:0,class:"form-error"},at={key:0,class:"form-error"},lt={class:"flex items-center space-x-3"},rt={key:2,class:"space-y-6"},it={class:"max-w-md mx-auto"},nt={class:"bg-white rounded-lg shadow-md p-6"},dt={class:"space-y-3 text-sm"},ut={class:"flex justify-between"},ct={class:"font-medium"},mt={class:"flex justify-between"},pt={class:"font-medium"},vt={class:"flex justify-between"},ft={class:"font-medium"},gt={class:"mt-6"},bt=["disabled"],yt={key:0,class:"flex items-center justify-center"},xt={key:1},ht={key:3,class:"space-y-6"},Ct={class:"max-w-4xl mx-auto"},Et={class:"bg-white rounded-lg shadow-md p-6 max-h-96 overflow-y-auto"},_t=["innerHTML"],kt={class:"mt-6 flex items-center space-x-3"},Nt={key:0,class:"form-error mt-2"},Tt={key:4,class:"bg-gray-50 rounded-lg p-4 mb-6"},At={class:"grid grid-cols-2 gap-2 text-xs"},St={class:"flex items-center"},Vt={class:"flex items-center"},wt={class:"flex items-center"},Rt={class:"flex items-center"},Ft={class:"flex items-center"},It={class:"flex items-center"},$t={class:"flex items-center"},Ut={class:"flex items-center"},Pt={class:"mt-2 text-xs"},zt={class:"flex justify-between pt-6 border-t"},Mt={key:1},jt=["disabled"],Bt=["disabled"],Ot={key:0,class:"flex items-center"},Lt={key:1},qt=$({__name:"SignatureRequestForm",emits:["step-change"],setup(f,{emit:h}){const C=h,T=se(),p=ie(),i=Ae(),c=ne(),{errors:s}=Se(),g=k(1),x=k(!1),S=k(!1),o=k({identificationNumber:"",fingerCode:"",emailAddress:"",cellphoneNumber:"",city:"",province:"",address:"",countryCode:"ECU",documentType:"CI",applicationType:"",period:"",ruc:"",companyName:"",appointmentDocument:"",referenceTransaction:"",identificationFront:null,identificationBack:null,selfie:null,authorizationVideo:null,isIdentityCertificate:!1,acceptedTerms:!1}),N=A(()=>i.catalogs),b=A(()=>c.termsContent),E=A(()=>{if(!o.value.province)return[];const d=N.value.provinces.find(t=>t.code===o.value.province);return d?N.value.cities.filter(t=>t.provinceId===d.id):[]}),y=A(()=>{switch(g.value){case 1:return!!(o.value.identificationNumber&&o.value.fingerCode&&o.value.emailAddress&&o.value.cellphoneNumber&&o.value.province&&o.value.city&&o.value.address&&o.value.applicationType&&o.value.period);case 2:return!!(o.value.identificationFront&&o.value.identificationBack&&o.value.selfie&&o.value.authorizationVideo);case 3:return!0;case 4:return o.value.acceptedTerms;default:return!1}}),V=A(()=>y.value&&g.value===4),U=d=>{if(d.length!==10)return!1;const t=/[A-Z]/.test(d),a=(d.match(/\d/g)||[]).length;return t&&a>=6},H=d=>d?d.startsWith("+593")?/^\+5939\d{8}$/.test(d):d.length>=10&&d.startsWith("+"):!1,W=()=>{var d,t,a;console.log("=== DEBUG VALIDATION ==="),console.log("identificationNumber:",o.value.identificationNumber,"length:",(d=o.value.identificationNumber)==null?void 0:d.length),console.log("fingerCode:",o.value.fingerCode,"length:",(t=o.value.fingerCode)==null?void 0:t.length),console.log("emailAddress:",o.value.emailAddress),console.log("cellphoneNumber:",o.value.cellphoneNumber,"valid:",H(o.value.cellphoneNumber)),console.log("province:",o.value.province),console.log("city:",o.value.city),console.log("address:",o.value.address,"length:",(a=o.value.address)==null?void 0:a.length),console.log("applicationType:",o.value.applicationType),console.log("period:",o.value.period),console.log("isStepValid:",y.value),console.log("========================")},Y=()=>{o.value={identificationNumber:"1234567890",fingerCode:"ABC1234567",emailAddress:"usuario@ejemplo.com",cellphoneNumber:"+593912345678",city:"UIO",province:"PIC",address:"Av. Amazonas N12-34 y Roca, Quito, Ecuador",countryCode:"ECU",documentType:"CI",applicationType:"NATURAL_PERSON",period:"ONE_YEAR",ruc:"",companyName:"",appointmentDocument:"",referenceTransaction:"",identificationFront:null,identificationBack:null,selfie:null,authorizationVideo:null,isIdentityCertificate:!1,acceptedTerms:!1}},G=()=>{const d=(t,a,ee)=>{const O=new File(["mock content"],t,{type:a});return Object.defineProperty(O,"size",{value:ee}),O};o.value.identificationFront=d("cedula_frente.jpg","image/jpeg",1024*1024),o.value.identificationBack=d("cedula_reverso.jpg","image/jpeg",1024*1024),o.value.selfie=d("selfie.jpg","image/jpeg",1024*1024),o.value.authorizationVideo=d("autorizacion.mp4","video/mp4",2*1024*1024)},B=()=>{y.value&&g.value<4&&g.value++},K=()=>{g.value>1&&g.value--},J=async()=>{S.value=!0,await new Promise(d=>setTimeout(d,2e3)),o.value.referenceTransaction=`REF${Date.now()}${Math.random().toString(36).substr(2,5).toUpperCase()}`,S.value=!1,B()},Q=d=>({NATURAL_PERSON:"Persona Natural",LEGAL_REPRESENTATIVE:"Representante Legal"})[d]||d,Z=d=>({ONE_WEEK:"Una Semana",ONE_MONTH:"Un Mes",ONE_YEAR:"Un Año",TWO_YEARS:"Dos Años",THREE_YEARS:"Tres Años",FOUR_YEARS:"Cuatro Años",FIVE_YEARS:"Cinco Años"})[d]||d,X=async()=>{if(V.value){x.value=!0;try{const d=new FormData;Object.keys(o.value).forEach(t=>{t!=="acceptedTerms"&&o.value[t]!==null&&o.value[t]!==""&&d.append(t,o.value[t])}),o.value.identificationFront&&d.append("identificationFront",o.value.identificationFront),o.value.identificationBack&&d.append("identificationBack",o.value.identificationBack),o.value.selfie&&d.append("selfie",o.value.selfie),o.value.authorizationVideo&&d.append("authorizationVideo",o.value.authorizationVideo),await p.createRequest(d),T.push(`/status/${o.value.referenceTransaction}`)}catch(d){console.error("Error submitting request:",d)}finally{x.value=!1}}};return z(g,d=>{C("step-change",d)}),ae(async()=>{await Promise.all([i.fetchCatalogs(),c.fetchTerms()])}),(d,t)=>(l(),r("form",{onSubmit:q(X,["prevent"]),class:"space-y-8"},[g.value===1?(l(),r("div",Ve,[e("div",we,[t[19]||(t[19]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Información Personal",-1)),t[20]||(t[20]=e("p",{class:"text-gray-600"},"Ingresa tus datos personales para la solicitud",-1)),e("div",Re,[e("button",{type:"button",onClick:Y,class:"mt-4 btn btn-secondary text-sm"}," 📝 Llenar con datos de ejemplo "),e("button",{type:"button",onClick:W,class:"mt-4 btn btn-secondary text-sm"}," 🔍 Debug Validación "),e("button",{type:"button",onClick:t[0]||(t[0]=a=>g.value=3),class:"mt-4 btn btn-secondary text-sm"}," ⏭️ Ir a Pago (Test) ")])]),e("div",Fe,[e("div",null,[t[21]||(t[21]=e("label",{class:"form-label"},"Número de Identificación *",-1)),_(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>o.value.identificationNumber=a),type:"text",maxlength:"10",class:m(["form-input",{"border-red-500":o.value.identificationNumber&&o.value.identificationNumber.length<10,"border-green-500":o.value.identificationNumber&&o.value.identificationNumber.length===10}]),placeholder:"Ej: 1234567890",required:""},null,2),[[w,o.value.identificationNumber]]),o.value.identificationNumber&&o.value.identificationNumber.length<10?(l(),r("p",Ie," Mínimo 10 caracteres ("+u(o.value.identificationNumber.length)+"/10) ",1)):v("",!0),n(s).identificationNumber?(l(),r("p",$e,u(n(s).identificationNumber),1)):v("",!0)]),e("div",null,[t[22]||(t[22]=e("label",{class:"form-label"},"Código de Huella *",-1)),_(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>o.value.fingerCode=a),type:"text",maxlength:"10",class:m(["form-input",{"border-red-500":o.value.fingerCode&&!U(o.value.fingerCode),"border-green-500":o.value.fingerCode&&U(o.value.fingerCode)}]),placeholder:"Ej: ABC1234567",required:""},null,2),[[w,o.value.fingerCode]]),o.value.fingerCode&&!U(o.value.fingerCode)?(l(),r("p",Ue," Código inválido: debe tener exactamente 10 caracteres, mínimo 1 mayúscula y 6 dígitos ")):v("",!0),n(s).fingerCode?(l(),r("p",Pe,u(n(s).fingerCode),1)):v("",!0),e("p",ze," 10 caracteres alfanuméricos, mínimo 1 mayúscula y 6 dígitos ("+u(o.value.fingerCode.length)+"/10) ",1)]),e("div",null,[t[23]||(t[23]=e("label",{class:"form-label"},"Correo Electrónico *",-1)),_(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>o.value.emailAddress=a),type:"email",maxlength:"100",class:m(["form-input",{"border-red-500":n(s).emailAddress}]),placeholder:"tu@email.com",required:""},null,2),[[w,o.value.emailAddress]]),n(s).emailAddress?(l(),r("p",Me,u(n(s).emailAddress),1)):v("",!0)]),e("div",null,[R(Te,{modelValue:o.value.cellphoneNumber,"onUpdate:modelValue":t[4]||(t[4]=a=>o.value.cellphoneNumber=a),label:"Número de Celular *",placeholder:"912345678",error:n(s).cellphoneNumber},null,8,["modelValue","error"])]),e("div",null,[t[25]||(t[25]=e("label",{class:"form-label"},"Provincia *",-1)),_(e("select",{"onUpdate:modelValue":t[5]||(t[5]=a=>o.value.province=a),class:m(["form-input",{"border-red-500":n(s).province}]),onChange:t[6]||(t[6]=a=>o.value.city=""),required:""},[t[24]||(t[24]=e("option",{value:""},"Selecciona una provincia",-1)),(l(!0),r(M,null,j(N.value.provinces,a=>(l(),r("option",{key:a.code,value:a.code},u(a.name),9,je))),128))],34),[[F,o.value.province]]),n(s).province?(l(),r("p",Be,u(n(s).province),1)):v("",!0)]),e("div",null,[t[27]||(t[27]=e("label",{class:"form-label"},"Ciudad *",-1)),_(e("select",{"onUpdate:modelValue":t[7]||(t[7]=a=>o.value.city=a),class:m(["form-input",{"border-red-500":n(s).city}]),disabled:!o.value.province,required:""},[t[26]||(t[26]=e("option",{value:""},"Selecciona una ciudad",-1)),(l(!0),r(M,null,j(E.value,a=>(l(),r("option",{key:a.code,value:a.code},u(a.name),9,Le))),128))],10,Oe),[[F,o.value.city]]),n(s).city?(l(),r("p",qe,u(n(s).city),1)):v("",!0)]),e("div",De,[t[28]||(t[28]=e("label",{class:"form-label"},"Dirección *",-1)),_(e("textarea",{"onUpdate:modelValue":t[8]||(t[8]=a=>o.value.address=a),rows:"3",class:m(["form-input",{"border-red-500":n(s).address}]),placeholder:"Ingresa tu dirección completa",minlength:"15",maxlength:"100",required:""},null,2),[[w,o.value.address]]),n(s).address?(l(),r("p",He,u(n(s).address),1)):v("",!0),e("p",We," Mínimo 15 caracteres, máximo 100 ("+u(o.value.address.length)+"/100) ",1)]),e("div",null,[t[30]||(t[30]=e("label",{class:"form-label"},"Tipo de Solicitud *",-1)),_(e("select",{"onUpdate:modelValue":t[9]||(t[9]=a=>o.value.applicationType=a),class:m(["form-input",{"border-red-500":n(s).applicationType}]),required:""},[...t[29]||(t[29]=[e("option",{value:""},"Selecciona el tipo",-1),e("option",{value:"NATURAL_PERSON"},"Persona Natural",-1),e("option",{value:"LEGAL_REPRESENTATIVE"},"Representante Legal",-1)])],2),[[F,o.value.applicationType]]),n(s).applicationType?(l(),r("p",Ye,u(n(s).applicationType),1)):v("",!0)]),e("div",null,[t[32]||(t[32]=e("label",{class:"form-label"},"Período de Validez *",-1)),_(e("select",{"onUpdate:modelValue":t[10]||(t[10]=a=>o.value.period=a),class:m(["form-input",{"border-red-500":n(s).period}]),required:""},[...t[31]||(t[31]=[D('<option value="">Selecciona el período</option><option value="ONE_WEEK">Una Semana</option><option value="ONE_MONTH">Un Mes</option><option value="ONE_YEAR">Un Año</option><option value="TWO_YEARS">Dos Años</option><option value="THREE_YEARS">Tres Años</option><option value="FOUR_YEARS">Cuatro Años</option><option value="FIVE_YEARS">Cinco Años</option>',8)])],2),[[F,o.value.period]]),n(s).period?(l(),r("p",Ge,u(n(s).period),1)):v("",!0)])]),o.value.applicationType==="LEGAL_REPRESENTATIVE"?(l(),r("div",Ke,[t[35]||(t[35]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Información de Representación Legal",-1)),e("div",Je,[e("div",null,[t[33]||(t[33]=e("label",{class:"form-label"},"RUC *",-1)),_(e("input",{"onUpdate:modelValue":t[11]||(t[11]=a=>o.value.ruc=a),type:"text",maxlength:"13",class:m(["form-input",{"border-red-500":n(s).ruc}]),placeholder:"1234567890001",required:""},null,2),[[w,o.value.ruc]]),n(s).ruc?(l(),r("p",Qe,u(n(s).ruc),1)):v("",!0)]),e("div",null,[t[34]||(t[34]=e("label",{class:"form-label"},"Nombre de la Empresa *",-1)),_(e("input",{"onUpdate:modelValue":t[12]||(t[12]=a=>o.value.companyName=a),type:"text",maxlength:"200",class:m(["form-input",{"border-red-500":n(s).companyName}]),placeholder:"Nombre de la empresa",required:""},null,2),[[w,o.value.companyName]]),n(s).companyName?(l(),r("p",Ze,u(n(s).companyName),1)):v("",!0)])])])):v("",!0)])):v("",!0),g.value===2?(l(),r("div",Xe,[e("div",{class:"text-center mb-8"},[t[36]||(t[36]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Documentos Requeridos",-1)),t[37]||(t[37]=e("p",{class:"text-gray-600"},"Sube los documentos necesarios para la validación",-1)),e("button",{type:"button",onClick:G,class:"mt-4 btn btn-secondary text-sm"}," 📁 Simular carga de archivos ")]),e("div",et,[e("div",null,[t[38]||(t[38]=e("label",{class:"form-label"},"Cédula de Identidad (Frente) *",-1)),R(I,{modelValue:o.value.identificationFront,"onUpdate:modelValue":t[13]||(t[13]=a=>o.value.identificationFront=a),accept:"image/jpeg,image/png","max-size":5,class:m({"border-red-500":n(s).identificationFront})},null,8,["modelValue","class"]),n(s).identificationFront?(l(),r("p",tt,u(n(s).identificationFront),1)):v("",!0)]),e("div",null,[t[39]||(t[39]=e("label",{class:"form-label"},"Cédula de Identidad (Reverso) *",-1)),R(I,{modelValue:o.value.identificationBack,"onUpdate:modelValue":t[14]||(t[14]=a=>o.value.identificationBack=a),accept:"image/jpeg,image/png","max-size":5,class:m({"border-red-500":n(s).identificationBack})},null,8,["modelValue","class"]),n(s).identificationBack?(l(),r("p",ot,u(n(s).identificationBack),1)):v("",!0)]),e("div",null,[t[40]||(t[40]=e("label",{class:"form-label"},"Selfie con Cédula *",-1)),R(I,{modelValue:o.value.selfie,"onUpdate:modelValue":t[15]||(t[15]=a=>o.value.selfie=a),accept:"image/jpeg,image/png","max-size":5,class:m({"border-red-500":n(s).selfie})},null,8,["modelValue","class"]),n(s).selfie?(l(),r("p",st,u(n(s).selfie),1)):v("",!0)]),e("div",null,[t[41]||(t[41]=e("label",{class:"form-label"},"Video de Autorización *",-1)),R(I,{modelValue:o.value.authorizationVideo,"onUpdate:modelValue":t[16]||(t[16]=a=>o.value.authorizationVideo=a),accept:"video/mp4","max-size":10,class:m({"border-red-500":n(s).authorizationVideo})},null,8,["modelValue","class"]),n(s).authorizationVideo?(l(),r("p",at,u(n(s).authorizationVideo),1)):v("",!0)])]),e("div",lt,[_(e("input",{"onUpdate:modelValue":t[17]||(t[17]=a=>o.value.isIdentityCertificate=a),type:"checkbox",class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[L,o.value.isIdentityCertificate]]),t[42]||(t[42]=e("label",{class:"text-sm text-gray-700"}," Certificado de identidad requerido ",-1))])])):v("",!0),g.value===3?(l(),r("div",rt,[t[50]||(t[50]=e("div",{class:"text-center mb-8"},[e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Proceso de Pago"),e("p",{class:"text-gray-600"},"Simulación del proceso de pago")],-1)),e("div",it,[e("div",nt,[t[49]||(t[49]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Resumen de la Solicitud",-1)),e("div",dt,[e("div",ut,[t[43]||(t[43]=e("span",{class:"text-gray-600"},"Tipo de Solicitud:",-1)),e("span",ct,u(Q(o.value.applicationType)),1)]),e("div",mt,[t[44]||(t[44]=e("span",{class:"text-gray-600"},"Período de Validez:",-1)),e("span",pt,u(Z(o.value.period)),1)]),e("div",vt,[t[45]||(t[45]=e("span",{class:"text-gray-600"},"Certificado de Identidad:",-1)),e("span",ft,u(o.value.isIdentityCertificate?"Sí":"No"),1)]),t[46]||(t[46]=e("hr",{class:"my-3"},null,-1)),t[47]||(t[47]=e("div",{class:"flex justify-between text-lg font-semibold"},[e("span",null,"Total a Pagar:"),e("span",{class:"text-blue-600"},"$25.00")],-1))]),e("div",gt,[e("button",{type:"button",onClick:J,disabled:S.value,class:"w-full btn btn-primary py-3"},[S.value?(l(),r("span",yt,[...t[48]||(t[48]=[e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),P(" Procesando... ",-1)])])):(l(),r("span",xt,"Proceder al Pago"))],8,bt)])])])])):v("",!0),g.value===4?(l(),r("div",ht,[t[52]||(t[52]=e("div",{class:"text-center mb-8"},[e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Términos y Condiciones"),e("p",{class:"text-gray-600"},"Lee y acepta los términos para continuar")],-1)),e("div",Ct,[e("div",Et,[e("div",{class:"prose prose-sm max-w-none",innerHTML:b.value},null,8,_t)]),e("div",kt,[_(e("input",{"onUpdate:modelValue":t[18]||(t[18]=a=>o.value.acceptedTerms=a),type:"checkbox",class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",required:""},null,512),[[L,o.value.acceptedTerms]]),t[51]||(t[51]=e("label",{class:"text-sm text-gray-700"}," He leído y acepto los términos y condiciones * ",-1))]),n(s).acceptedTerms?(l(),r("p",Nt,u(n(s).acceptedTerms),1)):v("",!0)])])):v("",!0),g.value===1?(l(),r("div",Tt,[t[61]||(t[61]=e("h4",{class:"text-sm font-medium text-gray-900 mb-2"},"Estado de Validación:",-1)),e("div",At,[e("div",St,[e("span",{class:m(o.value.identificationNumber?"text-green-600":"text-red-600")},"●",2),t[53]||(t[53]=e("span",{class:"ml-1"},"ID",-1))]),e("div",Vt,[e("span",{class:m(o.value.fingerCode?"text-green-600":"text-red-600")},"●",2),t[54]||(t[54]=e("span",{class:"ml-1"},"Huella",-1))]),e("div",wt,[e("span",{class:m(o.value.emailAddress?"text-green-600":"text-red-600")},"●",2),t[55]||(t[55]=e("span",{class:"ml-1"},"Email",-1))]),e("div",Rt,[e("span",{class:m(o.value.cellphoneNumber?"text-green-600":"text-red-600")},"●",2),t[56]||(t[56]=e("span",{class:"ml-1"},"Teléfono",-1))]),e("div",Ft,[e("span",{class:m(o.value.province?"text-green-600":"text-red-600")},"●",2),t[57]||(t[57]=e("span",{class:"ml-1"},"Provincia",-1))]),e("div",It,[e("span",{class:m(o.value.city?"text-green-600":"text-red-600")},"●",2),t[58]||(t[58]=e("span",{class:"ml-1"},"Ciudad",-1))]),e("div",$t,[e("span",{class:m(o.value.address?"text-green-600":"text-red-600")},"●",2),t[59]||(t[59]=e("span",{class:"ml-1"},"Dirección",-1))]),e("div",Ut,[e("span",{class:m(o.value.applicationType?"text-green-600":"text-red-600")},"●",2),t[60]||(t[60]=e("span",{class:"ml-1"},"Tipo",-1))])]),e("div",Pt,[e("span",{class:m(y.value?"text-green-600 font-medium":"text-red-600")},u(y.value?"✅ Formulario válido - Puedes continuar":"❌ Completa todos los campos requeridos"),3)])])):v("",!0),e("div",zt,[g.value>1?(l(),r("button",{key:0,type:"button",onClick:K,class:"btn btn-secondary"}," Anterior ")):(l(),r("div",Mt)),g.value<4?(l(),r("button",{key:2,type:"button",onClick:B,disabled:!y.value,class:m(["btn btn-primary",{"opacity-50 cursor-not-allowed":!y.value}])}," Siguiente ",10,jt)):(l(),r("button",{key:3,type:"submit",disabled:!V.value||x.value,class:"btn btn-primary"},[x.value?(l(),r("span",Ot,[...t[62]||(t[62]=[e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),P(" Enviando... ",-1)])])):(l(),r("span",Lt,"Enviar Solicitud"))],8,Bt))])],32))}}),Dt={class:"min-h-screen bg-gray-50 py-8"},Ht={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},Wt={class:"mb-8"},Yt={class:"flex items-center justify-center space-x-4"},Gt={key:0},Kt={key:1},Jt={class:"bg-white rounded-lg shadow-md p-8"},to=$({__name:"RequestView",setup(f){const h=k(1),C=["Datos Personales","Documentos","Pago","Términos"],T=c=>{h.value=c},p=c=>c<h.value-1||c===h.value-1?"bg-blue-600 text-white":"bg-gray-300 text-gray-600",i=c=>c<h.value?"text-blue-600":"text-gray-500";return(c,s)=>(l(),le(te,null,{default:re(()=>[e("div",Dt,[e("div",Ht,[e("div",Wt,[e("div",Yt,[(l(),r(M,null,j(C,(g,x)=>e("div",{key:x,class:"flex items-center"},[e("div",{class:m(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium",p(x)])},[x<h.value-1?(l(),r("span",Gt,"✓")):(l(),r("span",Kt,u(x+1),1))],2),e("span",{class:m(["ml-2 text-sm font-medium",i(x)])},u(g),3),x<C.length-1?(l(),r("div",{key:0,class:m(["w-16 h-0.5 mx-4",x<h.value-1?"bg-blue-600":"bg-gray-300"])},null,2)):v("",!0)])),64))])]),e("div",Jt,[R(qt,{onStepChange:T})])])])]),_:1}))}});export{to as default};
//# sourceMappingURL=RequestView-DVdHgcKO.js.map
